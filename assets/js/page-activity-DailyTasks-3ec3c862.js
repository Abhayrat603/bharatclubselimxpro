import{U,P as H,r as d,$ as q,O as F,K as oe,E as ie,V as A,aj as ce,m as y,Z as u,an as j,p as t,ac as D,Y as a,M as k,ai as I,W as K,X,o as h,ae as V,am as de}from"./common.modules-15d80ed7.js";import{i as re,k as ue,A as w,l as ve,m as pe,c as B,g as _e,a as he,R as fe,n as ge,o as ke,p as ye,_ as Y,q as me,s as we}from"./page-activity-ActivityDetail-7bb7979e.js";import{E as be}from"./page-activity-Championship-79d7a12d.js";window.getBuildInfo=function(){return{buildTime:"4/11/2025, 1:23:26 PM",branch:" commitId:cd43f1814d074aa6af60aa22862945b0b90b2919"}};const Te={class:"dailySignIn__container"},$e={class:"task-banner"},Ie={class:"banner-title"},Ae={class:"banner-content"},Ce={class:"task-panel"},De={key:0,class:"task-item"},Ne={class:"task-item-header"},Re={class:"hearder-status new"},Pe={class:"headerR"},Se={class:"task-item-type"},Le={class:"type-title new"},ze={class:"type-tip"},Be={class:"task-item-description"},je={class:"task-item-bottom"},Ge={class:"bottom-title"},Me={class:"task-item-header"},We={key:0,class:"task-item-subject"},Oe={class:"sub-title"},xe={class:"subject"},Ee={class:"schedule"},Ve={class:"subject"},Ue={class:"schedule"},He={key:1,class:"task-item-type"},qe={class:"type-tip"},Fe={class:"task-item-description"},Ke={class:"task-item-bottom"},Xe={class:"bottom-title"},Ye=["onClick"],Ze={class:"dialog-window"},Je={class:"dialog-wrapper"},Qe={class:"dialog-title"},et={class:"dialog-tips"},tt={class:"dialog-content"},at=U({__name:"index",setup(x){const{t:l}=H(),m=d(!1),f=q(),{ActiveTaskMap:c,ActiveSotre:C,getActive:b}=re();b();const{downAppTip:T}=ue(),g=d(""),N=d("0"),i=d([]),S=d([]),R=d([]),o=F(()=>{let e=[...S.value,...R.value];if(e.length==0)return[];const s=["",2,1,3];e=e.sort((_,$)=>s[_.status]-s[$.status]);const v=e.filter(_=>_.status==1);v.sort((_,$)=>z($.schedule,$.taskTarget)-z(_.schedule,_.taskTarget));const O=e.findIndex(_=>_.status==1);return e.splice(O,v.length,...v),e}),p=async()=>{const e=await w(ke());e&&(S.value=e.data.map(s=>({...s,type:"week"}))||[])},P=async()=>{const e=await w(ye());e&&(R.value=e.data.map(s=>({...s,type:"day"}))||[])},L=async()=>{p(),P()},G=()=>{f.push({name:"activity"})};function z(e,s){return s==0?0:e/s*100}const r=async()=>{i.value.length=0;const e=await w(ve());e!=null&&e.data&&i.value.push(e==null?void 0:e.data)},Z=e=>({1:l("goComplete"),2:l("receive"),3:l("claimed")})[e]||"",J=e=>({1:l("undone"),2:l("complete"),3:l("complete")})[e]||"",Q=e=>({0:l("goComplete"),1:l("receive"),2:l("claimed"),3:l("claimed")})[e]||"",ee=e=>({0:l("undone"),1:l("actTip2"),2:l("claimed"),3:l("complete")})[e]||"",M=d(null),te=async e=>{M.value&&clearTimeout(M.value),M.value=setTimeout(async()=>{if(e.status==1)return se(e);if(e.status==3)return;let s;e.type=="week"?s=await w(fe({weeklyAwardId:e.configId})):e.type=="day"&&(s=await w(ge({dailyAwardId:e.configId}))),s.code===0&&(m.value=!0,N.value=e.taskAwardAmount,g.value=e.taskTitle,L())},100)},W=d(null),ae=async e=>{W.value&&clearTimeout(W.value),W.value=setTimeout(async()=>{if([2,3].includes(e.status))return;if(e.status==0)return await T("Recharge");await w(pe({id:e.id}))&&(m.value=!0,N.value=e.totalNumber==0?"0":(Math.floor(e.amount/e.totalNumber*100)/100).toString(),g.value=e.title,r())},100)},se=async e=>{if(e.taskId=="D20")return e.schedule<e.taskTarget?await T("Recharge"):f.push({name:"home"});if(!c[e.taskId].goPath)return;if(c[e.taskId].homeType&&sessionStorage.setItem("clickedGameType",c[e.taskId].homeType),c[e.taskId].goPath=="Recharge"||c[e.taskId].goPath=="Withdraw")return T(c[e.taskId].goPath);f.push({name:c[e.taskId].goPath})},ne=()=>{f.push({name:"DailyTasks-Record"})};return oe(()=>C.value.isOpenActivityAward,e=>{e&&L()},{immediate:!0}),ie(()=>{r()}),(e,s)=>{var E;const v=A("svg-icon"),O=A("NavBar"),_=A("van-dialog"),$=ce("lazy");return h(),y("div",Te,[u(O,{title:"",placeholder:!1,"left-arrow":"",onClickLeft:G},{right:j(()=>[t("div",{class:"navi-record",onClick:ne},[u(v,{name:"watchCollection"}),t("span",null,a(e.$t("awardsRecord")),1)])]),_:1}),t("div",$e,[t("div",null,[D(`				<img v-lazy="getIconsPublic('activity/DailyTask', 'present')" />`),t("p",null,[t("div",Ie,a(e.$t("actTip1")),1),t("div",Ae,[t("div",null,a(e.$t("awardsTip1")),1),t("div",null,a(e.$t("awardsTip3")),1)])])])]),t("div",Ce,[i.value.length>0?(h(),y("div",De,[t("div",Ne,[t("div",Re,a(e.$t("actTip3")),1),t("span",Pe,a(ee((E=i.value[0])==null?void 0:E.status)),1)]),t("div",Se,[t("div",Le,[u(v,{name:"actNewGift"}),t("div",null,a(i.value[0].title),1)]),t("div",ze,a(i.value[0].receivedNumber+"/"+i.value[0].totalNumber),1)]),t("div",Be,a(i.value[0].description),1),t("div",je,[t("div",null,a(e.$t("awardsAmount")),1),t("div",Ge,[D(` <img v-lazy="getIcons('wallet', 'balance')" /> `),u(v,{name:"activityWallet"}),t("span",null,a(k(B)(i.value[0].amount)),1)])]),t("div",{class:I(["btn btnNew",`status${i.value[0].status}`]),onClick:s[0]||(s[0]=n=>ae(i.value[0]))},a(Q(i.value[0].status)),3)])):D("v-if",!0),(h(!0),y(K,null,X(o.value,(n,le)=>(h(),y("div",{class:"task-item",key:le},[t("div",Me,[t("div",{class:I(["hearder-status",`${n.type}`])},a(n.type=="week"?e.$t("actTip4"):e.$t("dailyMission")),3),t("span",{class:I(n.status==2?"headerR":"headerGray")},a(J(n.status)),3)]),n.taskId=="D20"?(h(),y("div",We,[t("div",Oe,[u(v,{name:k(c).A1.icon},null,8,["name"]),t("div",null,a(n.taskTitle),1)]),t("div",xe,[t("span",null,a(e.$t("recharge")),1),t("span",Ee,a(n.schedule+"/"+n.taskTarget),1)]),t("div",Ve,[t("span",null,a(e.$t("betting")),1),t("span",Ue,a(n.scheduleTwo+"/"+n.targetTwo),1)])])):(h(),y("div",He,[t("div",{class:I(["type-title",[k(c)[n.taskId].icon]])},[u(v,{name:k(c)[n.taskId].icon},null,8,["name"]),t("div",null,a(n.taskTitle),1)],2),t("div",qe,a(n.schedule+"/"+n.taskTarget),1)])),t("div",Fe,a(n.taskDescribe),1),t("div",Ke,[t("div",null,a(e.$t("awardsAmount")),1),t("div",Xe,[u(v,{name:"activityWallet"}),D(` <img v-lazy="getIcons('wallet', 'balance')" /> `),t("span",null,a(k(B)(n.taskAwardAmount)),1)])]),t("div",{class:I(["btn btnOther",`status${n.status}`]),onClick:rt=>te(n)},a(Z(n.status)),11,Ye)]))),128))]),u(_,{show:m.value,"onUpdate:show":s[3]||(s[3]=n=>m.value=n),"show-confirm-button":!1,className:"noOverHidden"},{default:j(()=>[t("div",Ze,[t("div",Je,[V(t("img",null,null,512),[[$,k(_e)("public","succeed")]]),t("div",Qe,a(e.$t("awardsReceived")),1),t("div",et,a(g.value),1),t("div",tt,[u(v,{name:"receivedSuccessfuly"}),D(` <img v-lazy="getIcons('wallet', 'balance')" /> `),t("span",null,a(k(B)(N.value)),1)]),t("div",{class:"dialog-btn",onClick:s[1]||(s[1]=n=>m.value=!1)},a(e.$t("confirm")),1),t("div",{class:"dialog-footer",onClick:s[2]||(s[2]=n=>m.value=!1)},[V(t("img",null,null,512),[[$,k(he)("activity/DailyTask","close")]])])])])]),_:1},8,["show"])])}}});const st=Y(at,[["__scopeId","data-v-d7213382"],["__file","/usr/local/jenkins-prod/workspace/ar012-india-bhtclub/src/views/activity/DailyTasks/index.vue"]]),_t=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"})),nt={class:"task-record-container"},lt={class:"head"},ot={class:"record-panel van-clearfix"},it={class:"markRed"},ct=U({__name:"index",setup(x){const{t:l}=H(),m=q(),f=d([]),c=d(!1),C=d(!1),b=d(1),T=d(!1),g=d(1),N=F(()=>T.value?"":l("noMoreThere")),i=async()=>{let o;g.value==1?o=await w(me({pageNo:b.value,pageSize:20})):o=await w(we({pageNo:b.value,pageSize:20})),o?(T.value=o.data.totalCount==0,o.data.totalPage<=b.value?C.value=!0:C.value=!1,o.data.list&&(f.value.push(...o.data.list),f.value.sort((p,P)=>P.createDate-p.createDate)),b.value++):C.value=!0,c.value=!1},S=()=>{m.push({name:"DailyTasks"})};function R(o){g.value=o,b.value=1,f.value.length=0,i()}return(o,p)=>{const P=A("NavBar"),L=A("van-sticky"),G=A("svg-icon"),z=A("van-list");return h(),y("div",nt,[u(P,{title:o.$t("titlePickUpRecord"),placeholder:!1,"left-arrow":"",onClickLeft:S},null,8,["title"]),u(L,{"offset-top":49},{default:j(()=>[t("div",lt,[t("button",{class:I({active:g.value==1}),onClick:p[0]||(p[0]=r=>R(1))},a(o.$t("actTip7")),3),t("button",{class:I({active:g.value==2}),onClick:p[1]||(p[1]=r=>R(2))},a(o.$t("actTip8")),3)])]),_:1}),u(z,{loading:c.value,"onUpdate:loading":p[2]||(p[2]=r=>c.value=r),finished:C.value,"finished-text":N.value,onLoad:i},{default:j(()=>[t("div",ot,[(h(!0),y(K,null,X(f.value,r=>(h(),y("div",{class:"record-panel-item",key:r.status},[t("h1",null,a(g.value==1?o.$t("actTip5"):o.$t("actTip6")),1),t("h2",null,[t("span",null,a(r.taskTitle),1),t("span",it,a(r.taskTarget+"/"+r.taskTarget),1)]),t("div",null,[t("span",null,a(r.createDate),1),t("h3",null,[u(G,{name:"activityWallet"}),t("span",null,a(k(B)(r.awardAmount)),1)])])]))),128))])]),_:1},8,["loading","finished","finished-text"]),T.value?(h(),de(be,{key:0})):D("v-if",!0)])}}});const dt=Y(ct,[["__scopeId","data-v-40b81b7f"],["__file","/usr/local/jenkins-prod/workspace/ar012-india-bhtclub/src/views/activity/DailyTasks/Record/index.vue"]]),ht=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"}));export{ht as a,_t as i};
//# sourceMappingURL=page-activity-DailyTasks-3ec3c862.js.map
