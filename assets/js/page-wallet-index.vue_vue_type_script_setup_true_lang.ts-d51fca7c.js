import{U as J,O as X,P as Y,$ as Z,r as y,E as j,V as B,m as i,p as e,Z as p,M as t,Y as s,ac as q,J as N,W as P,X as U,o as r,ai as Q}from"./common.modules-15d80ed7.js";import{d as ee,G as te,k as ae,a5 as se,aW as ne,A as V,dt as le,du as oe,c0 as ie,c as f,g as re}from"./page-activity-ActivityDetail-7bb7979e.js";window.getBuildInfo=function(){return{buildTime:"4/11/2025, 1:23:26 PM",branch:" commitId:cd43f1814d074aa6af60aa22862945b0b90b2919"}};const ce={class:"wallet-container"},ue={class:"wallet-container-header"},de={class:"wallet-container-header-belly"},he={key:0},me={class:"total"},ve={class:"total"},_e={class:"wallet-container-content"},we={class:"container"},pe={class:"progressBars"},ge={class:"progressBarsL"},ye={class:"progressBarsR"},fe={class:"recycleBtnD"},ke={key:1,class:"recycleBtn disable"},be={class:"userDetail"},Be=["onClick"],Re={class:"imgD"},Ce=["src"],Le={key:0,class:"gameList"},We={class:"money"},De={key:1,class:"gameList"},Me=J({__name:"index",setup(E){ee();const R=te(),C=X(()=>R.userInfo),{downAppTip:K}=ae(),O=ie(),{t:l}=Y(),L=Z(),{setLoading:g}=se(),m=ne(),$={recharge:{title:l("recharge"),icon:"rechargeIcon",link:"Recharge"},withdraw:{title:l("withdraw"),icon:"widthdrawBlue",link:"Withdraw"},rechargeHistory:{title:l("rechargeRecords"),icon:"rechargeHistory",link:"RechargeHistory"},withdrawHistory:{title:l("withdrawRecords"),icon:"withdrawHistory",link:"WithdrawHistory"}},z=async a=>{a=="Recharge"||a=="Withdraw"?await K(a):(a==="RechargeHistory"&&O.emit("changeKeepAliveKey"),L.push({name:a}))};let k=y([]),h=0,v=0,c=0,W="0%",_=0,u=0,D="0%";const T=new Date().getTime()/1e3,A=y(0),x=y(0),d=y(0);async function M(){g(!0);const a=await V(le());a&&(m.setTimestampLast(T),m.setAllwallets(a==null?void 0:a.data),H(a==null?void 0:a.data)),g(!1)}async function F(){if(d.value)return;const a=await V(oe());a?(d.value=5,h=a.data.amount,G()):d.value=0}const G=async()=>{if(d.value==0){g(!0),await M(),g(!1);return}setTimeout(()=>{d.value-=1,G()},1e3)};function H(a){if(!a)return;C.value.isShowWalletTotalCT=="1"&&(A.value=a.totalWithdraw||0,x.value=a.totalRecharge||0),k.value=a.thidGameBalanceList||[];let o=a.thidGameBalanceList||[];if(v=0,_=0,o)for(var w of o)w.vendorCode==="Lottery"?v+=w.balance:_+=w.balance;h=v+_,h>0?(c=Math.round(v/h*1e4)/100,u=Math.round(_/h*1e4)/100,W=c+"%",D=u+"%"):(c=0,u=0)}return j(async()=>{m.getTimestampLast==0||T-m.getTimestampLast>=6?await M():H(m.getAllwallets)}),(a,o)=>{const w=B("NavBar"),S=B("svg-icon"),I=B("van-circle");return r(),i("div",ce,[e("div",ue,[p(w,{title:t(l)("wallet"),class:"main","left-arrow":"",onClickLeft:o[0]||(o[0]=n=>t(L).go(-1))},null,8,["title"]),e("div",de,[p(S,{name:"wallet1"}),e("div",null,s(t(f)(t(h))),1),e("span",null,s(t(l)("totalBalance")),1),C.value.isShowWalletTotalCT=="1"?(r(),i("div",he,[e("div",null,[e("p",me,s(A.value),1),e("p",null,s(t(l)("totalWithdraw")),1)]),e("div",null,[e("p",ve,s(x.value),1),e("p",null,s(t(l)("totalRechargeAmount")),1)])])):q("v-if",!0)])]),e("div",_e,[e("div",we,[e("div",pe,[e("div",ge,[p(I,{"current-rate":t(c),"onUpdate:currentRate":o[1]||(o[1]=n=>N(c)?c.value=n:c=n),speed:100,text:t(W),"stroke-width":"100","stroke-linecap":"butt"},null,8,["current-rate","text"]),e("h3",null,s(t(f)(t(v))),1),e("span",null,s(t(l)("mainWallet")),1)]),e("div",ye,[p(I,{"current-rate":t(u),"onUpdate:currentRate":o[2]||(o[2]=n=>N(u)?u.value=n:u=n),speed:100,text:t(D),"stroke-width":"100","stroke-linecap":"butt"},null,8,["current-rate","text"]),e("h3",null,s(t(f)(t(_))),1),e("span",null,s(t(l)("thirdPartyWallet")),1)])]),e("div",fe,[d.value==0?(r(),i("button",{key:0,class:"recycleBtn",onClick:F},s(t(l)("oneClickRecovery")),1)):(r(),i("button",ke,s(t(l)("recycling"))+" "+s(d.value),1))]),e("div",be,[(r(),i(P,null,U($,(n,b)=>e("div",{key:b,onClick:Te=>z(n.link)},[e("div",Re,[e("img",{src:t(re)("wallet",n.icon)},null,8,Ce)]),e("span",null,s(n.title),1)],8,Be)),64))])]),t(k)?(r(),i("div",Le,[(r(!0),i(P,null,U(t(k),(n,b)=>(r(),i("div",{class:Q(["box",n.balance>0?"select":""]),key:b},[p(S,{name:n.vendorCode},null,8,["name"]),e("h3",We,s(t(f)(n.balance," ")),1),e("span",null,s(n.vendorCode.replace("G9","9G")),1)],2))),128))])):(r(),i("div",De,[e("div",null,s(t(l)("noData")),1)]))])])}}});export{Me as _};
//# sourceMappingURL=page-wallet-index.vue_vue_type_script_setup_true_lang.ts-d51fca7c.js.map
