import{U as ne,$ as te,r,E as ve,V as G,aj as ge,m as _,ae as y,af as P,Z as i,p as e,Y as a,M as n,ai as _e,ac as T,an as Y,ap as be,aq as we,o as u,as as Ce,P as ie,aa as Pe,O as pe,am as ye,ao as fe,W as Ne,T as ee,t as A,N as ke,x as Te}from"./common.modules-15d80ed7.js";import{a as Ie,E as Ve,b as Ee,v as Z,c as Q,P as de,d as Me,V as Be}from"./page-login-index.vue_vue_type_script_setup_true_lang.ts-3440bf8e.js";import{G as le,a5 as Ue,A as O,bF as xe,a as ae,bG as Le,J as he,_ as oe,a4 as re,bp as De,bH as Re,g as ue,H as Ae,c as se,b5 as Oe,bI as je,b6 as Ge,b1 as X,bJ as Fe,bK as ze,bo as $e,bL as qe,bM as We,bN as He,bO as Je,b0 as Ke}from"./page-activity-ActivityDetail-7bb7979e.js";import{D as Ye}from"./page-main-GoogleVerify-e0a0151f.js";import{D as Ze}from"./page-activity-Championship-79d7a12d.js";import{D as Se}from"./page-home-other-2e271a5e.js";window.getBuildInfo=function(){return{buildTime:"4/11/2025, 1:23:26 PM",branch:" commitId:cd43f1814d074aa6af60aa22862945b0b90b2919"}};const ce=x=>(be("data-v-5bd44e74"),x=x(),we(),x),Qe={class:"userInfo__container-content"},Xe={class:"userInfo__container-content-wrapper"},en=["src"],nn={class:"userInfo__container-content__name"},tn={class:"userInfo__container-content-nickname"},on=["src"],an={class:"userInfo__container-content-uid"},sn=ce(()=>e("span",null,"UID",-1)),ln=ce(()=>e("span",null,"|",-1)),rn={class:"userInfo__container-content-logintime"},cn={class:"userInfo__container-content-logintime"},dn=ce(()=>e("span",null," ",-1)),un=[dn],vn={class:"userInfo__container-setting-center"},mn={class:"userInfo__container-content__avatar"},_n=["data-img"],pn={class:"userInfo__container-setting-center-content"},fn=ce(()=>e("h5",null,"UID",-1)),hn={class:"info-dialog-content-title"},gn=["placeholder"],bn=ne({__name:"index",props:{userInfo:{type:null,required:!0}},setup(x){const o=x,I=le(),c=I.getUserInfo,{setLoading:j}=Ue(),t=te(),s=r(!1),b=r(!1);function M(p){s.value=p}function k(p){t.push({name:"Avatar"})}ve(()=>{t.currentRoute.value.name==="SettingCenter"?b.value=!0:(b.value=!1,m())});const v=r(!1),h=r();async function m(){j(!0);const p=await O(xe());p&&(h.value=p.data),j(!1)}async function N(){if(o.userInfo.nickName.trim()==="")return v.value=!0,s.value=!0,!1;if(o.userInfo.nickName.trim().length>12)return v.value=!0,s.value=!0,!1;v.value=!1,s.value=!1,await O(Le({nikeName:o.userInfo.nickName}))&&I.setUserInfo({...o.userInfo})}function $(){t.go(-1)}const L=(p,l)=>{p=ae("images","avatar1");let S=document.querySelector(`.${l}`);S.src=p},B=r(ae("main/Avatar",o.userInfo.userPhoto));return(p,l)=>{var F,z;const S=G("NavBar"),g=G("svg-icon"),U=G("van-icon"),d=ge("lazy");return u(),_("div",{class:_e(["userInfo__container",{"setting-page-container":b.value}])},[y(i(S,{title:p.$t("settingCenter"),class:"main",placeholder:!1,"left-arrow":"",onClickLeft:$},null,8,["title"]),[[P,b.value]]),y(e("div",Qe,[e("div",Xe,[e("div",{class:"userInfo__container-content__avatar",onClick:l[1]||(l[1]=w=>k())},[e("img",{src:B.value,class:"userAvatar",onError:l[0]||(l[0]=w=>L(B.value,"userAvatar"))},null,40,en)]),e("div",nn,[e("div",tn,[e("h3",null,a((F=n(c).nickName)==null?void 0:F.toUpperCase()),1),e("div",{class:_e(["n"+((z=h.value)==null?void 0:z.vipLevel)])},null,2),y(e("img",{class:"editPencil",onClick:l[2]||(l[2]=w=>M(!0)),src:n(ae)("main","editPencil")},null,8,on),[[P,b.value]])]),e("div",an,[sn,ln,e("span",null,a(n(c).userId),1),i(g,{onClick:l[3]||(l[3]=w=>n(he)(n(c).userId.toString())),name:"copy"})]),y(e("div",rn,[e("span",null,a(p.$t("lastLoginTime"))+" ",1),y(e("span",null,a(n(c).userLoginDate),513),[[P,n(c).userLoginDate]])],512),[[P,!b.value]]),y(e("div",cn,un,512),[[P,b.value]])])]),T(` <div v-show="!isSettingPage" class="userInfo__container-content-right">
				<img v-lazy="getIcons('main', 'myCoin')" alt="" />
				<span>我的金币</span>
			</div> `),y(e("div",{class:"userInfo__container-content-right",onClick:l[4]||(l[4]=w=>k())},[e("h5",null,a(p.$t("changeAvatar")),1)],512),[[P,b.value]])],512),[[P,!b.value]]),y(e("div",vn,[e("div",{class:"userInfo__container-setting-center-header",onClick:l[6]||(l[6]=w=>k())},[e("div",mn,[y(e("img",{"data-img":n(ae)("images","avatar1")},null,8,_n),[[d,B.value]])]),e("div",{class:"userInfo__container-setting-center-header-edit",onClick:l[5]||(l[5]=w=>k())},[e("span",null,a(p.$t("changeAvatar")),1),i(U,{name:"arrow",color:"#888"})])]),e("div",{class:"userInfo__container-setting-center-content ar-1px-b",onClick:l[9]||(l[9]=w=>M(!0))},[e("h5",null,a(p.$t("nickName")),1),e("div",{onClick:l[8]||(l[8]=w=>M(!0))},[e("span",null,a(n(c).nickName),1),i(U,{name:"arrow",color:"#888",onClick:l[7]||(l[7]=w=>M(!0))})])]),e("div",pn,[fn,e("div",null,[e("span",null,a(n(c).userId),1),i(g,{name:"copy",onClick:l[10]||(l[10]=w=>n(he)(n(c).userId.toString()))})])])],512),[[P,b.value]]),i(Ye,{show:s.value,"onUpdate:show":l[12]||(l[12]=w=>s.value=w),onConfirm:N,title:p.$t("editNickname")},{content:Y(()=>[e("div",hn,[i(g,{name:"dialogNickname"}),e("span",null,a(p.$t("nickName")),1)]),y(e("input",{type:"text","auto-complete":"new-password",autocomplete:"off",name:"username","onUpdate:modelValue":l[11]||(l[11]=w=>n(c).nickName=w),placeholder:p.$t("tipEnterNickname")},null,8,gn),[[Ce,n(c).nickName]]),y(e("h4",null,a(p.$t("tipDoNotEnterUnvalideNickname")),513),[[P,v.value]])]),_:1},8,["show","title"])],2)}}});const wn=oe(bn,[["__scopeId","data-v-5bd44e74"],["__file","/usr/local/jenkins-prod/workspace/ar012-india-bhtclub/src/components/Main/UserInformation/index.vue"]]),yn=x=>(be("data-v-6af1b9df"),x=x(),we(),x),kn={class:"content setting-wrapper"},$n={class:"setting-items-wrapper"},Sn={class:"content-sub_title"},Cn={class:"phone_container"},Pn={class:"phone_container-item-left"},Nn={class:"icon"},Tn={class:"phone_container-item-right"},In={class:"setting_container"},Vn={key:0,class:"phone_container-item-left"},En=["src"],Mn={key:1,class:"phone_container-item-left"},Bn=["src"],Un={key:2,class:"phone_container-item-right"},xn={key:3,class:"phone_container-item-right"},Ln={key:0,class:"phoneright"},Dn={key:1,class:"phoneright"},Rn={key:0,class:"phone_container-item-left"},An={class:"icon email"},On={key:1,class:"phone_container-item-left"},jn={class:"icon email"},Gn={key:2,class:"phone_container-item-right"},Fn={key:0,class:"emailright"},zn={key:1,class:"emailright"},qn={key:3,class:"phone_container-item-right"},Wn={class:"icon"},Hn={key:0,class:"green"},Jn={key:1},Kn={class:"setting_container_item"},Yn={class:"icon"},Zn=yn(()=>e("h5",null,"1.0.9",-1)),Qn=["src"],Xn={class:"setting-records-modal"},et={class:"idlockTip"},nt=ne({__name:"index",setup(x){const{t:o}=ie(),I=Pe(Re,500),c=te(),j=re(),t=le();j.getUserInfo({signature:t.token});const s=t.getUserInfo,b=r(!1);function M(){localStorage.setItem("toPath","ResetPassword"),c.push({name:"SettingCenter-LoginPassword"})}const k=pe(()=>{var S;return(S=s==null?void 0:s.verifyMethods)==null?void 0:S.email}),v=pe(()=>{var S;return(S=s==null?void 0:s.verifyMethods)==null?void 0:S.mobile}),h=!!s.googleVerify,m=r(!1),N=()=>{s.googleVerify===1?m.value=!0:c.push({name:"GoogleVerify"})},$=S=>{L(S)},L=async S=>{var U,d;const g=await O(De({verifyCode:S,verifyType:3}));(U=g==null?void 0:g.data)!=null&&U.secret&&c.push({name:"GoogleVerify-BindGoogle",query:{secret:(d=g.data)==null?void 0:d.secret,type:1}})},B=r(!1),p=()=>{B.value=!0},l=async()=>{(await O(je())).code==0&&(B.value=!1,ee(o("delete")+o("success")))};return(S,g)=>{var w,J,K,q,W,H,V,E,C,f;const U=G("svg-icon"),d=G("van-icon"),F=G("van-button"),z=ge("haspermission");return u(),_(Ne,null,[i(wn,{userInfo:n(s)},null,8,["userInfo"]),e("div",kn,[e("div",$n,[e("div",Sn,[e("div",null,a(n(o)("securityInfo")),1)]),e("div",Cn,[e("div",{class:"phone_container-item",onClick:M},[e("div",Pn,[e("figure",Nn,[i(U,{name:"editIcon"})]),e("span",null,a(n(o)("loginPSW")),1)]),e("div",Tn,[e("span",null,a(n(o)("edit")),1),i(d,{name:"arrow",color:"#888"})])])]),e("div",In,[((w=n(s))==null?void 0:w.regType)==2?(u(),_("div",{key:0,class:"phone_container-item setting_container_item ar-1px-b",onClick:g[0]||(g[0]=D=>n(c).push({name:"SettingCenter-UpdatePhone"}))},[v.value==""?(u(),_("div",Vn,[e("img",{src:n(ue)("main","editPhoneIcon")},null,8,En),e("span",null,a(n(o)("bindPhone")),1)])):T("v-if",!0),v.value!=""?(u(),_("div",Mn,[e("img",{src:n(ue)("main","editPhoneIcon")},null,8,Bn),e("span",null,a(n(o)("changephone")),1)])):T("v-if",!0),v.value!=""?(u(),_("div",Un,[e("span",null,a(n(Ae)((K=(J=n(s))==null?void 0:J.verifyMethods)==null?void 0:K.mobile)),1),i(d,{name:"arrow",color:"#888"})])):T("v-if",!0),v.value==""?(u(),_("div",xn,[((q=n(s))==null?void 0:q.bindReward)>0?(u(),_("div",Ln,[e("div",null,a(n(o)("award")),1),e("div",null,a(n(se)((W=n(s))==null?void 0:W.bindReward)),1)])):(u(),_("div",Dn,[e("div",null,a(n(o)("tobind")),1)])),i(d,{name:"arrow",color:"#888"})])):T("v-if",!0)])):T("v-if",!0),((H=n(s))==null?void 0:H.regType)==1?(u(),_("div",{key:1,class:"phone_container-item setting_container_item",onClick:g[1]||(g[1]=D=>n(c).push({name:"SettingCenter-BindEmail"}))},[k.value==""?(u(),_("div",Rn,[e("figure",An,[i(U,{name:"messageIcon"})]),e("span",null,a(n(o)("bindEmail")),1)])):T("v-if",!0),k.value!=""?(u(),_("div",On,[e("figure",jn,[i(U,{name:"email"})]),e("span",null,a(n(o)("email")),1)])):T("v-if",!0),k.value==""?(u(),_("div",Gn,[((V=n(s))==null?void 0:V.bindReward)>0?(u(),_("div",Fn,[e("div",null,a(n(o)("award")),1),e("div",null,a(n(se)((E=n(s))==null?void 0:E.bindReward)),1)])):(u(),_("div",zn,[e("div",null,a(n(o)("tobind")),1)])),i(d,{name:"arrow",color:"#888"})])):T("v-if",!0),k.value!=""?(u(),_("div",qn,[e("span",null,a(n(Oe)((f=(C=n(s))==null?void 0:C.verifyMethods)==null?void 0:f.email)),1),i(d,{name:"arrow",color:"#888"})])):T("v-if",!0)])):T("v-if",!0),y(e("div",{class:"setting_container_item",onClick:N},[e("div",null,[e("figure",Wn,[i(U,{name:"googleIcon"})]),e("span",null,a(n(o)("googleVerify")),1)]),e("div",null,[n(h)?(u(),_("span",Hn,a(n(o)("turnedOn")),1)):(u(),_("span",Jn,a(n(o)("unopened")),1)),i(d,{name:"arrow",color:"#888"})])],512),[[P,n(s).isGoogle==="1"]]),e("div",Kn,[e("div",null,[e("figure",Yn,[i(U,{name:"versionUpdateIcon"})]),e("span",null,a(n(o)("updateNewVersion")),1)]),e("div",null,[Zn,i(d,{name:"arrow",color:"var(--text_color_L2)"})])])]),b.value?(u(),ye(F,{key:0,class:"cg-default",block:"",round:"",size:"large",color:"var(--main_gradient-color2)",onClick:n(I)},{icon:Y(()=>[e("img",{src:n(ue)("main","clear")},null,8,Qn)]),default:Y(()=>[fe(" "+a(n(o)("clearcache")),1)]),_:1},8,["onClick"])):T("v-if",!0)])]),y((u(),_("div",{class:"delAllRq",onClick:p},[fe(a(n(o)("delAllBtn")),1)])),[[z,19]]),T(" 验证弹窗 "),i(Ie,{showPopup:m.value,onOnConfirm:$,onOnBack:g[2]||(g[2]=D=>m.value=!1)},null,8,["showPopup"]),e("div",Xn,[i(Ze,{show:B.value,"onUpdate:show":g[4]||(g[4]=D=>B.value=D),"show-cancel-btn":!0,title:n(o)("delAllTip1")},{content:Y(()=>[e("div",et,a(n(o)("delAllTip2")),1)]),footer:Y(()=>[e("div",{class:"dialogBtn",onClick:l},a(n(o)("confirmDelete")),1),e("div",{class:"dialogBtn",onClick:g[3]||(g[3]=D=>B.value=!1)},a(n(o)("cancel")),1)]),_:1},8,["show","title"])])],64)}}});const tt=oe(nt,[["__scopeId","data-v-6af1b9df"],["__file","/usr/local/jenkins-prod/workspace/ar012-india-bhtclub/src/views/main/SettingCenter/index.vue"]]),Ut=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"})),ot={class:"bind-container"},at={class:"email-container"},st={class:"updateP-container-tips"},it={class:"bind-button"},lt={key:0,class:"Laundry-Con"},rt={class:"Laundry-Con_tip"},ct={class:"reward"},dt={class:"money"},ut=ne({__name:"index",setup(x){var w,J,K,q,W,H;const{t:o}=ie(),I=te(),c=re(),t=le().getUserInfo,s=r("bindemail"),b=r(!0),M=r(!1),k=r(!1),v=r("");v.value=((w=t==null?void 0:t.verifyMethods)==null?void 0:w.email)!=""?"updateEmail":"bindEmail";const h=r("");h.value=((J=t==null?void 0:t.verifyMethods)==null?void 0:J.email)!=""?o("safetyVerification"):o("bindEmail");const m={email:""},N=r("");m.email=(K=t==null?void 0:t.verifyMethods)==null?void 0:K.email;const $=r(!1);$.value=((q=t==null?void 0:t.verifyMethods)==null?void 0:q.email)=="";const L=r(!0);L.value=((W=t==null?void 0:t.verifyMethods)==null?void 0:W.email)!="";const B=r(!1);B.value=((H=t==null?void 0:t.verifyMethods)==null?void 0:H.email)=="";const p=r("public"),l=r("succeed"),S=()=>{I.go(-1)},g=V=>{m.email=V},U=async()=>{var E;if(v.value=="bindEmail"){if(!Z.email1.test(m.email))return c.setCountEmailDown(0),A({message:o(Q.email),wordBreak:"break-word"})}else if(!Z.email1.test((E=t==null?void 0:t.verifyMethods)==null?void 0:E.email))return c.setCountEmailDown(0),A({message:o(Q.email),wordBreak:"break-word"});await O(Ge({email:m.email,emailType:$.value?X.bindEmailMmobile:X.resetEmailMmobile}))?ee(o("sendSuccess")):c.setCountEmailDown(0)},d=async()=>{if(!Z.email1.test(m.email))return A({message:o(Q.email),wordBreak:"break-word"});if(!N.value.trim())return A({message:o("noVerifyCodeFound"),wordBreak:"break-word"});await O(Fe({email:m.email,code:N.value,type:X.resetEmailMmobile}))&&(v.value="bindEmail",h.value=o("bindEmail"),L.value=!1,M.value=!1,$.value=!0,b.value=!1,B.value=!0,N.value="",m.email="",c.setCountEmailDown(0)),M.value=!1},F=async()=>{var E;if(!Z.email1.test(m.email))return A({message:o(Q.email),wordBreak:"break-word"});if(!N.value.trim())return A({message:o("noVerifyCodeFound"),wordBreak:"break-word"});await O(ze({email:m.email,emailvCode:N.value}))&&(((E=t==null?void 0:t.verifyMethods)==null?void 0:E.email)!=""?(ee(o("rpdsucceed")),I.push({name:"main"})):k.value=!0)},z=()=>{I.push({name:"main"}),k.value=!1};return ve(()=>{c.setCountEmailDown(0)}),(V,E)=>{const C=G("NavBar");return u(),_("div",ot,[i(C,{title:h.value,class:"white","left-arrow":"",onClickLeft:S},null,8,["title"]),e("div",at,[y(e("div",null,[i(Ve,{ref:"email",type:s.value,email:m.email,onChangeN:g},null,8,["type","email"])],512),[[P,$.value]]),i(Ee,{value:N.value,"onUpdate:value":E[0]||(E[0]=f=>N.value=f),isShowVerifyT:b.value,typeP:v.value,sendFunc:U,email:m.email},null,8,["value","isShowVerifyT","typeP","email"]),y(e("div",st,[e("span",null,a(V.$t("tipVerifyCodeRequired")),1)],512),[[P,M.value]]),e("div",it,[y(e("button",{onClick:d},a(V.$t("nextStep")),513),[[P,L.value]]),y(e("button",{onClick:F},a(V.$t("toBind")),513),[[P,B.value]])])]),i(Se,{show:k.value,"onUpdate:show":E[1]||(E[1]=f=>k.value=f),onConfirm:z,"show-cancel-btn":!1,confirmText:"confirm",pathname:p.value,picname:l.value,title:V.$t("bindsuccess")},{content:Y(()=>{var f,D;return[((f=n(t))==null?void 0:f.bindReward)>0?(u(),_("div",lt,[e("div",rt,[e("div",ct,a(V.$t("award")),1),e("div",dt,a(n(se)((D=n(t))==null?void 0:D.bindReward)),1)])])):T("v-if",!0)]}),_:1},8,["show","pathname","picname","title"])])}}});const vt=oe(ut,[["__scopeId","data-v-eca8202a"],["__file","/usr/local/jenkins-prod/workspace/ar012-india-bhtclub/src/views/main/SettingCenter/BindEmail/index.vue"]]),xt=Object.freeze(Object.defineProperty({__proto__:null,default:vt},Symbol.toStringTag,{value:"Module"})),mt={class:"LoginP-container"},_t={class:"LoginP-container-form"},pt={class:"LoginP-container-tips"},ft={class:"LoginP-container-button"},ht=ne({__name:"index",setup(x){let o=ke({oldPwd:"",newPwd:"",confirmNewPwd:""});const I=re();I.getRegisterState();const{t:c}=ie(),j=r(!1),t=te();async function s(){if(!Z.passReg3.test(o.newPwd))return A({message:c(Q.passReg2),wordBreak:"break-word"});if(o.newPwd!==o.confirmNewPwd){j.value=!0;return}else j.value=!1;await O(qe(o))&&(Te(c("rpdsucceed")),localStorage.clear(),t.push("/login"))}function b(){t.push({name:"rpwd"})}const{isSmSForgetPasswordState:M,registerState:k}=$e();return k(),(v,h)=>{const m=G("NavBar"),N=G("van-icon");return u(),_("div",mt,[i(m,{title:v.$t("titleEditPsw"),class:"white","left-arrow":"",onClickLeft:h[0]||(h[0]=$=>n(t).go(-1))},null,8,["title"]),e("div",_t,[i(de,{value:n(o).oldPwd,"onUpdate:value":h[1]||(h[1]=$=>n(o).oldPwd=$),label:v.$t("oldPSW"),maxlength:32},null,8,["value","label"]),i(de,{value:n(o).newPwd,"onUpdate:value":h[2]||(h[2]=$=>n(o).newPwd=$),label:v.$t("newPSW")},null,8,["value","label"]),i(de,{class:"mgb48",value:n(o).confirmNewPwd,"onUpdate:value":h[3]||(h[3]=$=>n(o).confirmNewPwd=$),label:v.$t("confirmPSW")},null,8,["value","label"]),y(e("div",pt,[e("span",null,a(v.$t("tipUnmatchPsw")),1)],512),[[P,j.value]]),T(`
				功能暂时不可用且跳转 重置密码页有bug
			`),n(I).isOpenForgetPasswordEmailState||n(I).isOpenForgetPasswordSMSState?(u(),_("div",{key:0,class:"LoginP-container-remember",onClick:b},[e("span",null,a(v.$t("forgotOldPSW")),1),i(N,{name:"arrow",color:"var(--text_color_L2)"})])):(u(),_("div",{key:1,class:"LoginP-container-remember",onClick:h[4]||(h[4]=$=>n(t).push({name:"CustomerService"}))},[e("span",null,a(v.$t("contactServicer")),1),i(N,{name:"arrow",color:"var(--text_color_L2)"})])),e("div",ft,[e("button",{onClick:s},a(v.$t("saveChanges")),1)])])])}}});const gt=oe(ht,[["__scopeId","data-v-5beab1ae"],["__file","/usr/local/jenkins-prod/workspace/ar012-india-bhtclub/src/views/main/SettingCenter/LoginPassword/index.vue"]]),Lt=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"})),bt={class:"updateP-container"},wt={class:"updateP-container-tips"},yt={class:"updateP-container-button"},kt={key:0,class:"Laundry-Con"},$t={class:"Laundry-Con_tip"},St={class:"reward"},Ct={class:"money"},Pt=ne({__name:"index",setup(x){var q,W,H,V,E;const{t:o}=ie(),I=te(),c=re(),t=le().getUserInfo,s=r(!1);s.value=((q=t==null?void 0:t.verifyMethods)==null?void 0:q.mobile)=="";const b=r(!1),M=r(!1);M.value=((W=t==null?void 0:t.verifyMethods)==null?void 0:W.mobile)!="";const k=r(!1);k.value=((H=t==null?void 0:t.verifyMethods)==null?void 0:H.mobile)=="";const v=r(!0),h=r(!1),m=r(""),N=r(!1),$=r("");$.value=((V=t==null?void 0:t.verifyMethods)==null?void 0:V.mobile)!=""?o("safetyVerification"):o("bindPhone");const L=r("");L.value=((E=t==null?void 0:t.verifyMethods)==null?void 0:E.mobile)!=""?"updatePhone":"bindPhone";const B=r("public"),p=r("succeed"),l=()=>{I.go(-1)},{isShowSMS:S,registerState:g}=$e();g();async function U(){var f;if(!m.value.trim())return A({message:o("noVerifyCodeFound"),wordBreak:"break-word"});await O(We({userName:((f=t==null?void 0:t.verifyMethods)==null?void 0:f.mobile)||localStorage.getItem("numberType")+localStorage.getItem("number"),smsvCode:m.value}))&&($.value=o("bindPhone"),L.value="bindPhone",M.value=!1,h.value=!1,s.value=!0,v.value=!1,k.value=!0,m.value="",d.PhoneNumber="",c.setCountDown(0)),h.value=!1}const d=ke({PhoneNumber:"",numberType:localStorage.getItem("numberType")});async function F(){var f;if(!m.value.trim())return A({message:o("noVerifyCodeFound"),wordBreak:"break-word"});if(!He(d.numberType,d.PhoneNumber.trim().length))return A({message:o("wrongTel"),wordBreak:"break-word"});await O(Je({phone:d.numberType+d.PhoneNumber,smsvCode:m.value}))&&(((f=t==null?void 0:t.verifyMethods)==null?void 0:f.mobile)!=""?(ee(o("rpdsucceed")),I.push({name:"main"})):b.value=!0)}const z=C=>{d.numberType=C},w=C=>{d.PhoneNumber=C},J=async()=>{var R;let C=s.value?d.numberType.replace("+","")+d.PhoneNumber:(R=t==null?void 0:t.verifyMethods)==null?void 0:R.mobile;const f=C.length;if(f<10||f>14)return A({message:o("wrongTel"),wordBreak:"break-word"});if(await O(Ke({phone:C,codeType:s.value?X.bindEmailMmobile:X.resetEmailMmobile})))ee(o("sendSuccess"));else return-1},K=()=>{I.push({name:"main"}),b.value=!1};return ve(()=>{c.setCountDown(0)}),(C,f)=>{const D=G("NavBar");return u(),_("div",bt,[i(D,{title:$.value,class:"white","left-arrow":"",onClickLeft:l},null,8,["title"]),y(e("div",null,[i(Me,{"show-validate":N.value,"onUpdate:showValidate":f[0]||(f[0]=R=>N.value=R),typeP:L.value,number:d.PhoneNumber,"number-type":d.numberType,onChangeT:z,onChangeN:w},null,8,["show-validate","typeP","number","number-type"])],512),[[P,s.value]]),n(S)?(u(),ye(Be,{key:0,value:m.value,"onUpdate:value":f[1]||(f[1]=R=>m.value=R),typeP:L.value,isShowVerifyT:v.value,sendFunc:J,number:d.PhoneNumber,numberType:d.numberType},null,8,["value","typeP","isShowVerifyT","number","numberType"])):T("v-if",!0),y(e("div",wt,[e("span",null,a(C.$t("tipVerifyCodeRequired")),1)],512),[[P,h.value]]),e("div",yt,[y(e("button",{onClick:U},a(C.$t("nextStep")),513),[[P,M.value]]),y(e("button",{onClick:F},a(C.$t("complete")),513),[[P,k.value]])]),i(Se,{show:b.value,"onUpdate:show":f[2]||(f[2]=R=>b.value=R),onConfirm:K,"show-cancel-btn":!1,confirmText:"confirm",pathname:B.value,picname:p.value,title:C.$t("bindsuccess")},{content:Y(()=>{var R,me;return[((R=n(t))==null?void 0:R.bindReward)>0?(u(),_("div",kt,[e("div",$t,[e("div",St,a(C.$t("award")),1),e("div",Ct,a(n(se)((me=n(t))==null?void 0:me.bindReward)),1)])])):T("v-if",!0)]}),_:1},8,["show","pathname","picname","title"])])}}});const Nt=oe(Pt,[["__scopeId","data-v-90d7db2e"],["__file","/usr/local/jenkins-prod/workspace/ar012-india-bhtclub/src/views/main/SettingCenter/UpdatePhone/index.vue"]]),Dt=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"}));export{wn as U,xt as a,Lt as b,Dt as c,Ut as i};
//# sourceMappingURL=page-main-SettingCenter-78c1bf22.js.map
